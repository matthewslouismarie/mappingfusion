{% extends 'base.html.twig' %}

{% block title %}Acceuil{% endblock %}

{% block resources %}
<link rel="stylesheet" href="https://unpkg.com/@glidejs/glide@3.6.0/dist/css/glide.core.css">
<script src="https://unpkg.com/@glidejs/glide@3.6.0/dist/glide.js"></script>
{% endblock %}

{% block body %}
<div class="glide">
    <div class="glide__track" data-glide-el="track">
        <ul class="glide__slides">
        {% for a in featured_articles %}
            <li class="glide__slide">
                <a class="link" href="{{ app.router.generateUrl('article', {id: a.id}) }}" style="background-image: url(/public/uploaded/{{ a.coverFilename }});">
                    <div class="text">{{ app.mk.format(a.title)|raw }}</div>
                </a>
            </li>
        {% endfor %}
        </ul>
    </div>
    <div class="glide__bullets" data-glide-el="controls[nav]">
        {% for a in featured_articles %}
        <button class="glide__bullet" data-glide-dir="={{ loop.index0 }}" type="button">
            <div class="image" style="background-image: url('/public/uploaded/{{ featured_articles[loop.index0].coverFilename }}');">{{ featured_articles[loop.index0].title }}</div>
        </button>
        {% endfor %}
  </div>
</div>
<div class="site-social-networks">
    <a class="link -white">
        <img alt="Discord" class="image" src="/public/discord_logo.svg">
        <div class="text">Rejoignez-nous<br><em>sur Discord</em></div>
    </a>
    <a class="link -blue">
        <img alt="Facebook" class="image" src="/public/facebook_logo.svg">
        <div class="text">Rejoignez-nous<br><em>sur Facebook</em></div>
    </a>
</div>
{% endblock %}

{% block scriptInit %}
<script>
  new Glide('.glide').mount()
</script>
{% endblock %}